{"ast":null,"code":"var _jsxFileName = \"/Users/dylanastrup/Documents/recipe-book-frontend/src/components/RecipeCard.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Card, CardContent, Typography, Box, Button, Stack } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { jwtDecode } from 'jwt-decode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RecipeCard = ({\n  recipe\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const defaultImage = \"/no-image.png\";\n  const imageToShow = recipe.images && recipe.images.length > 0 ? recipe.images[0] : defaultImage;\n\n  // ðŸ§  Get current user info from token\n  let isOwnerOrAdmin = false;\n  try {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      const decoded = jwtDecode(token);\n      console.log(\"ðŸ” Decoded token in RecipeCard:\", decoded);\n      console.log(\"ðŸ“¦ Recipe.user_id:\", recipe.user_id);\n      const currentUserId = parseInt(decoded.id);\n      const isAdmin = decoded.role === \"admin\";\n      const isOwner = currentUserId === recipe.user_id;\n      console.log(\"ðŸ§¾ currentUserId:\", currentUserId, \"isAdmin:\", isAdmin, \"isOwner:\", isOwner);\n      isOwnerOrAdmin = isAdmin || isOwner;\n    }\n  } catch (err) {\n    console.error(\"ðŸš« Invalid token:\", err);\n  }\n  const handleEdit = e => {\n    e.stopPropagation(); // Prevent card click\n    navigate(`/edit-recipe/${recipe.id}`);\n  };\n  const handleDelete = e => {\n    e.stopPropagation(); // Prevent card click\n    const confirmDelete = window.confirm(\"Are you sure you want to delete this recipe?\");\n    if (confirmDelete) {\n      navigate(`/delete-recipe/${recipe.id}`);\n    }\n  };\n  console.log(\"ðŸ“¦ Rendering RecipeCard for:\", recipe.recipe_name);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    onClick: () => navigate(`/recipes/${recipe.id}`),\n    sx: {\n      borderRadius: 3,\n      boxShadow: 3,\n      width: 250,\n      cursor: 'pointer',\n      transition: \"transform 0.2s, box-shadow 0.2s\",\n      '&:hover': {\n        transform: \"scale(1.02)\",\n        boxShadow: 6\n      },\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      component: \"img\",\n      src: imageToShow,\n      alt: recipe.recipe_name,\n      onError: e => {\n        e.target.src = defaultImage;\n      },\n      sx: {\n        width: '100%',\n        height: 150,\n        objectFit: 'cover',\n        borderTopLeftRadius: 12,\n        borderTopRightRadius: 12\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      sx: {\n        flexGrow: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        sx: {\n          fontFamily: \"'Patrick Hand', cursive\"\n        },\n        children: recipe.recipe_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        sx: {\n          maxHeight: 40,\n          overflow: 'hidden'\n        },\n        children: recipe.description.length > 60 ? recipe.description.substring(0, 60) + \"...\" : recipe.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        sx: {\n          marginTop: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Total Time:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), \" \", recipe.prep_time + recipe.cook_time, \" mins\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), isOwnerOrAdmin && /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        spacing: 1,\n        sx: {\n          marginTop: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"primary\",\n          size: \"small\",\n          onClick: handleEdit,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          color: \"error\",\n          size: \"small\",\n          onClick: handleDelete,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(RecipeCard, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = RecipeCard;\nexport default RecipeCard;\nvar _c;\n$RefreshReg$(_c, \"RecipeCard\");","map":{"version":3,"names":["React","Card","CardContent","Typography","Box","Button","Stack","useNavigate","jwtDecode","jsxDEV","_jsxDEV","RecipeCard","recipe","_s","navigate","defaultImage","imageToShow","images","length","isOwnerOrAdmin","token","localStorage","getItem","decoded","console","log","user_id","currentUserId","parseInt","id","isAdmin","role","isOwner","err","error","handleEdit","e","stopPropagation","handleDelete","confirmDelete","window","confirm","recipe_name","onClick","sx","borderRadius","boxShadow","width","cursor","transition","transform","display","flexDirection","position","children","component","src","alt","onError","target","height","objectFit","borderTopLeftRadius","borderTopRightRadius","fileName","_jsxFileName","lineNumber","columnNumber","flexGrow","variant","fontFamily","color","maxHeight","overflow","description","substring","marginTop","prep_time","cook_time","direction","spacing","size","_c","$RefreshReg$"],"sources":["/Users/dylanastrup/Documents/recipe-book-frontend/src/components/RecipeCard.js"],"sourcesContent":["import React from 'react';\nimport { Card, CardContent, Typography, Box, Button, Stack } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { jwtDecode } from 'jwt-decode';\n\nconst RecipeCard = ({ recipe }) => {\n  const navigate = useNavigate();\n  const defaultImage = \"/no-image.png\";\n\n  const imageToShow = (recipe.images && recipe.images.length > 0) ? recipe.images[0] : defaultImage;\n\n  // ðŸ§  Get current user info from token\n  let isOwnerOrAdmin = false;\n  try {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      const decoded = jwtDecode(token);\n      console.log(\"ðŸ” Decoded token in RecipeCard:\", decoded);\n      console.log(\"ðŸ“¦ Recipe.user_id:\", recipe.user_id);\n\n      const currentUserId = parseInt(decoded.id);\n      const isAdmin = decoded.role === \"admin\";\n      const isOwner = currentUserId === recipe.user_id;\n\n      console.log(\"ðŸ§¾ currentUserId:\", currentUserId, \"isAdmin:\", isAdmin, \"isOwner:\", isOwner);\n\n      isOwnerOrAdmin = isAdmin || isOwner;\n    }\n  } catch (err) {\n    console.error(\"ðŸš« Invalid token:\", err);\n  }\n\n  const handleEdit = (e) => {\n    e.stopPropagation();  // Prevent card click\n    navigate(`/edit-recipe/${recipe.id}`);\n  };\n\n  const handleDelete = (e) => {\n    e.stopPropagation();  // Prevent card click\n    const confirmDelete = window.confirm(\"Are you sure you want to delete this recipe?\");\n    if (confirmDelete) {\n      navigate(`/delete-recipe/${recipe.id}`);\n    }\n  };\n\n  console.log(\"ðŸ“¦ Rendering RecipeCard for:\", recipe.recipe_name);\n  \n  return (\n    <Card \n      onClick={() => navigate(`/recipes/${recipe.id}`)}\n      sx={{ \n        borderRadius: 3, \n        boxShadow: 3, \n        width: 250, \n        cursor: 'pointer',\n        transition: \"transform 0.2s, box-shadow 0.2s\",\n        '&:hover': { \n          transform: \"scale(1.02)\", \n          boxShadow: 6 \n        },\n        display: 'flex',\n        flexDirection: 'column',\n        position: 'relative'\n      }}\n    >\n      {/* Image */}\n      <Box\n        component=\"img\"\n        src={imageToShow}\n        alt={recipe.recipe_name}\n        onError={(e) => { e.target.src = defaultImage; }}\n        sx={{\n          width: '100%',\n          height: 150,\n          objectFit: 'cover',\n          borderTopLeftRadius: 12,\n          borderTopRightRadius: 12\n        }}\n      />\n      \n      {/* Content */}\n      <CardContent sx={{ flexGrow: 1 }}>\n        <Typography variant=\"h6\" sx={{ fontFamily: \"'Patrick Hand', cursive\" }}>\n          {recipe.recipe_name}\n        </Typography>\n        <Typography \n          variant=\"body2\" \n          color=\"text.secondary\"\n          sx={{ \n            maxHeight: 40,     \n            overflow: 'hidden' \n          }}\n        >\n          {recipe.description.length > 60 \n            ? recipe.description.substring(0, 60) + \"...\" \n            : recipe.description}\n        </Typography>\n        <Typography variant=\"body2\" sx={{ marginTop: 1 }}>\n          <strong>Total Time:</strong> {recipe.prep_time + recipe.cook_time} mins\n        </Typography>\n\n        {/* Admin/Owner Buttons */}\n        {isOwnerOrAdmin && (\n          <Stack direction=\"row\" spacing={1} sx={{ marginTop: 2 }}>\n            <Button \n              variant=\"outlined\" \n              color=\"primary\" \n              size=\"small\" \n              onClick={handleEdit}\n            >\n              Edit\n            </Button>\n            <Button \n              variant=\"outlined\" \n              color=\"error\" \n              size=\"small\" \n              onClick={handleDelete}\n            >\n              Delete\n            </Button>\n          </Stack>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default RecipeCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}